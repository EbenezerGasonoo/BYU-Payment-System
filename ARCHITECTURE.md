# ğŸ—ï¸ System Architecture

## High-Level Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER INTERFACES                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ğŸ“ Student Portal              ğŸ‘¨â€ğŸ’¼ Admin Dashboard               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ â€¢ Register       â”‚           â”‚ â€¢ View Requests  â”‚            â”‚
â”‚  â”‚ â€¢ Request Card   â”‚           â”‚ â€¢ Assign Cards   â”‚            â”‚
â”‚  â”‚ â€¢ View Dashboard â”‚           â”‚ â€¢ Track Status   â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚           â”‚                               â”‚                      â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                           â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ HTTP/REST
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FRONTEND LAYER                              â”‚
â”‚                     React + Vite                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ğŸ“± React Router         ğŸ”Œ Axios API Client                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ Home         â”‚        â”‚ studentAPI   â”‚                       â”‚
â”‚  â”‚ Register     â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ adminAPI     â”‚                       â”‚
â”‚  â”‚ Request      â”‚        â”‚              â”‚                       â”‚
â”‚  â”‚ Dashboard    â”‚        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚  â”‚ Admin        â”‚               â”‚                               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚                               â”‚
â”‚                                 â”‚                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â”‚ HTTP Requests
                                  â”‚ Port 5173 â†’ 3000
                                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       BACKEND LAYER                             â”‚
â”‚                    Node.js + Express                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ğŸ›£ï¸  API Routes                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  /api/student/*       /api/admin/*           â”‚               â”‚
â”‚  â”‚  â”œâ”€ register          â”œâ”€ requests            â”‚               â”‚
â”‚  â”‚  â”œâ”€ request-card      â”œâ”€ assign              â”‚               â”‚
â”‚  â”‚  â”œâ”€ dashboard/:id     â”œâ”€ assign/mock         â”‚               â”‚
â”‚  â”‚  â””â”€ request/:token    â”œâ”€ action              â”‚               â”‚
â”‚  â”‚                       â””â”€ stats               â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                 â”‚               â”‚                               â”‚
â”‚  ğŸ” Middleware  â”‚               â”‚  ğŸ“§ Utilities                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”        â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚ CORS           â”‚        â”‚ Email Service    â”‚                â”‚
â”‚  â”‚ JSON Parser    â”‚        â”‚ Cron Jobs        â”‚                â”‚
â”‚  â”‚ Admin Auth     â”‚        â”‚ (Card Expiry)    â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”˜        â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                â”‚               â”‚                               â”‚
â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                        â”‚                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ Mongoose ODM
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     DATABASE LAYER                             â”‚
â”‚                      MongoDB                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ğŸ“Š Collections                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  students                cardrequests            â”‚           â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚           â”‚
â”‚  â”‚  â”‚ _id           â”‚       â”‚ _id              â”‚   â”‚           â”‚
â”‚  â”‚  â”‚ name          â”‚       â”‚ student (ref)    â”‚   â”‚           â”‚
â”‚  â”‚  â”‚ byuId         â”‚â—€â”€â”€â”€â”€â”€â”€â”‚ amount           â”‚   â”‚           â”‚
â”‚  â”‚  â”‚ email         â”‚       â”‚ status           â”‚   â”‚           â”‚
â”‚  â”‚  â”‚ phone         â”‚       â”‚ requestToken     â”‚   â”‚           â”‚
â”‚  â”‚  â”‚ createdAt     â”‚       â”‚ virtualCardNum   â”‚   â”‚           â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ cardExpiryDate   â”‚   â”‚           â”‚
â”‚  â”‚                          â”‚ cardCVV          â”‚   â”‚           â”‚
â”‚  â”‚                          â”‚ assignedAt       â”‚   â”‚           â”‚
â”‚  â”‚                          â”‚ expiresAt        â”‚   â”‚           â”‚
â”‚  â”‚                          â”‚ createdAt        â”‚   â”‚           â”‚
â”‚  â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    EXTERNAL SERVICES                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ğŸ“§ Gmail SMTP                      â° Node-Cron                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Admin Notify     â”‚              â”‚ Every 5 minutes  â”‚         â”‚
â”‚  â”‚ Student Notify   â”‚              â”‚ Check Expiry     â”‚         â”‚
â”‚  â”‚ Card Expired     â”‚              â”‚ Auto-Update DB   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Diagrams

### 1. Student Registration Flow

```
Student                Frontend              Backend              Database
  â”‚                       â”‚                     â”‚                    â”‚
  â”œâ”€ Fill Form â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                     â”‚                    â”‚
  â”‚                       â”‚                     â”‚                    â”‚
  â”‚                       â”œâ”€ POST /register â”€â”€â”€â–¶â”‚                    â”‚
  â”‚                       â”‚                     â”‚                    â”‚
  â”‚                       â”‚                     â”œâ”€ Validate Data     â”‚
  â”‚                       â”‚                     â”‚                    â”‚
  â”‚                       â”‚                     â”œâ”€ Save Student â”€â”€â”€â”€â–¶â”‚
  â”‚                       â”‚                     â”‚                    â”‚
  â”‚                       â”‚                     â”‚â—€â”€â”€â”€ Success â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                       â”‚                     â”‚                    â”‚
  â”‚                       â”‚â—€â”€â”€â”€ 201 Created â”€â”€â”€â”€â”¤                    â”‚
  â”‚                       â”‚                     â”‚                    â”‚
  â”‚â—€â”€ Success Message â”€â”€â”€â”€â”¤                     â”‚                    â”‚
  â”‚                       â”‚                     â”‚                    â”‚
```

### 2. Card Request Flow

```
Student              Frontend           Backend           Database         Email
  â”‚                     â”‚                  â”‚                 â”‚              â”‚
  â”œâ”€ Submit Request â”€â”€â”€â–¶â”‚                  â”‚                 â”‚              â”‚
  â”‚                     â”‚                  â”‚                 â”‚              â”‚
  â”‚                     â”œâ”€ POST /request â”€â–¶â”‚                 â”‚              â”‚
  â”‚                     â”‚                  â”‚                 â”‚              â”‚
  â”‚                     â”‚                  â”œâ”€ Find Student â”€â–¶â”‚              â”‚
  â”‚                     â”‚                  â”‚                 â”‚              â”‚
  â”‚                     â”‚                  â”‚â—€â”€â”€â”€ Student â”€â”€â”€â”€â”¤              â”‚
  â”‚                     â”‚                  â”‚                 â”‚              â”‚
  â”‚                     â”‚                  â”œâ”€ Create Token   â”‚              â”‚
  â”‚                     â”‚                  â”‚                 â”‚              â”‚
  â”‚                     â”‚                  â”œâ”€ Save Request â”€â–¶â”‚              â”‚
  â”‚                     â”‚                  â”‚                 â”‚              â”‚
  â”‚                     â”‚                  â”œâ”€ Notify Admin â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
  â”‚                     â”‚                  â”‚                 â”‚              â”‚
  â”‚                     â”‚â—€â”€â”€â”€ Response â”€â”€â”€â”€â”¤                 â”‚              â”‚
  â”‚                     â”‚    (with token)  â”‚                 â”‚              â”‚
  â”‚â—€â”€ Show Token â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚                 â”‚              â”‚
  â”‚                     â”‚                  â”‚                 â”‚              â”‚
```

### 3. Admin Card Assignment Flow

```
Admin              Frontend           Backend           Database         Email
  â”‚                   â”‚                  â”‚                 â”‚              â”‚
  â”œâ”€ View Requests â”€â”€â–¶â”‚                  â”‚                 â”‚              â”‚
  â”‚                   â”‚                  â”‚                 â”‚              â”‚
  â”‚                   â”œâ”€ GET /requests â”€â–¶â”‚                 â”‚              â”‚
  â”‚                   â”‚                  â”‚                 â”‚              â”‚
  â”‚                   â”‚                  â”œâ”€ Fetch All â”€â”€â”€â”€â–¶â”‚              â”‚
  â”‚                   â”‚                  â”‚                 â”‚              â”‚
  â”‚                   â”‚                  â”‚â—€â”€â”€â”€ Requests â”€â”€â”€â”¤              â”‚
  â”‚                   â”‚                  â”‚                 â”‚              â”‚
  â”‚                   â”‚â—€â”€â”€â”€ List â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚              â”‚
  â”‚                   â”‚                  â”‚                 â”‚              â”‚
  â”‚â—€â”€ Display Cards â”€â”€â”¤                  â”‚                 â”‚              â”‚
  â”‚                   â”‚                  â”‚                 â”‚              â”‚
  â”œâ”€ Assign Mock â”€â”€â”€â”€â–¶â”‚                  â”‚                 â”‚              â”‚
  â”‚                   â”‚                  â”‚                 â”‚              â”‚
  â”‚                   â”œâ”€ POST /assign/mock                 â”‚              â”‚
  â”‚                   â”‚                  â”‚                 â”‚              â”‚
  â”‚                   â”‚                  â”œâ”€ Generate Card  â”‚              â”‚
  â”‚                   â”‚                  â”‚                 â”‚              â”‚
  â”‚                   â”‚                  â”œâ”€ Set Expiry     â”‚              â”‚
  â”‚                   â”‚                  â”‚   (now + 12h)   â”‚              â”‚
  â”‚                   â”‚                  â”‚                 â”‚              â”‚
  â”‚                   â”‚                  â”œâ”€ Update Requestâ–¶â”‚              â”‚
  â”‚                   â”‚                  â”‚   status=assigned              â”‚
  â”‚                   â”‚                  â”‚                 â”‚              â”‚
  â”‚                   â”‚                  â”œâ”€ Notify Studentâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
  â”‚                   â”‚                  â”‚                 â”‚              â”‚
  â”‚                   â”‚â—€â”€â”€â”€ Success â”€â”€â”€â”€â”€â”¤                 â”‚              â”‚
  â”‚                   â”‚                  â”‚                 â”‚              â”‚
  â”‚â—€â”€ Confirmation â”€â”€â”€â”¤                  â”‚                 â”‚              â”‚
  â”‚                   â”‚                  â”‚                 â”‚              â”‚
```

### 4. Auto-Expiry Cron Job Flow

```
Cron Job           Backend           Database         Email
   â”‚                  â”‚                 â”‚              â”‚
   â”œâ”€ Every 5 min â”€â”€â”€â–¶â”‚                 â”‚              â”‚
   â”‚                  â”‚                 â”‚              â”‚
   â”‚                  â”œâ”€ Find Expired â”€â–¶â”‚              â”‚
   â”‚                  â”‚   (expiresAt    â”‚              â”‚
   â”‚                  â”‚    <= now AND   â”‚              â”‚
   â”‚                  â”‚    status =     â”‚              â”‚
   â”‚                  â”‚    assigned)    â”‚              â”‚
   â”‚                  â”‚                 â”‚              â”‚
   â”‚                  â”‚â—€â”€â”€â”€ List â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
   â”‚                  â”‚                 â”‚              â”‚
   â”‚                  â”œâ”€ For each:      â”‚              â”‚
   â”‚                  â”‚                 â”‚              â”‚
   â”‚                  â”œâ”€ Update Status â–¶â”‚              â”‚
   â”‚                  â”‚   (expired)     â”‚              â”‚
   â”‚                  â”‚                 â”‚              â”‚
   â”‚                  â”œâ”€ Notify Studentâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
   â”‚                  â”‚                 â”‚              â”‚
   â”‚                  â”œâ”€ Log Result     â”‚              â”‚
   â”‚                  â”‚                 â”‚              â”‚
   â”‚â—€â”€â”€â”€ Complete â”€â”€â”€â”€â”¤                 â”‚              â”‚
   â”‚                  â”‚                 â”‚              â”‚
```

## Component Architecture

### Frontend Components

```
App.jsx
  â”‚
  â”œâ”€ Router
  â”‚   â”‚
  â”‚   â”œâ”€ Navbar
  â”‚   â”‚
  â”‚   â”œâ”€ Routes
  â”‚   â”‚   â”‚
  â”‚   â”‚   â”œâ”€ Home.jsx
  â”‚   â”‚   â”œâ”€ StudentRegister.jsx
  â”‚   â”‚   â”œâ”€ RequestPayment.jsx
  â”‚   â”‚   â”œâ”€ StudentDashboard.jsx
  â”‚   â”‚   â””â”€ AdminDashboard.jsx
  â”‚   â”‚
  â”‚   â””â”€ Footer
  â”‚
  â””â”€ API Service (api.js)
      â”‚
      â”œâ”€ studentAPI
      â”‚   â”œâ”€ register()
      â”‚   â”œâ”€ requestCard()
      â”‚   â”œâ”€ getDashboard()
      â”‚   â””â”€ getRequest()
      â”‚
      â””â”€ adminAPI
          â”œâ”€ getRequests()
          â”œâ”€ assignCard()
          â”œâ”€ assignMockCard()
          â”œâ”€ updateAction()
          â””â”€ getStats()
```

### Backend Structure

```
server.js
  â”‚
  â”œâ”€ Express App
  â”‚   â”‚
  â”‚   â”œâ”€ Middleware
  â”‚   â”‚   â”œâ”€ CORS
  â”‚   â”‚   â”œâ”€ JSON Parser
  â”‚   â”‚   â””â”€ URL Encoded
  â”‚   â”‚
  â”‚   â”œâ”€ Routes
  â”‚   â”‚   â”œâ”€ /api/student (studentRoutes.js)
  â”‚   â”‚   â””â”€ /api/admin (adminRoutes.js)
  â”‚   â”‚
  â”‚   â””â”€ Error Handlers
  â”‚
  â”œâ”€ Database Connection (database.js)
  â”‚
  â”œâ”€ Models
  â”‚   â”œâ”€ Student.js
  â”‚   â””â”€ CardRequest.js
  â”‚
  â””â”€ Utilities
      â”œâ”€ emailService.js
      â”‚   â”œâ”€ notifyAdminNewRequest()
      â”‚   â”œâ”€ notifyStudentCardAssigned()
      â”‚   â””â”€ notifyStudentCardExpired()
      â”‚
      â””â”€ cronJobs.js
          â””â”€ startCardExpiryJob()
```

## Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Security Layers                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  ğŸ” Admin Authentication                         â”‚
â”‚  â”œâ”€ API Key in Headers (x-admin-key)            â”‚
â”‚  â”œâ”€ Verified on Each Request                    â”‚
â”‚  â””â”€ Stored in Environment Variables              â”‚
â”‚                                                  â”‚
â”‚  ğŸ›¡ï¸  Input Validation                            â”‚
â”‚  â”œâ”€ Required Fields Check                        â”‚
â”‚  â”œâ”€ Email Format Validation                      â”‚
â”‚  â”œâ”€ Unique Constraint (BYU ID, Email)           â”‚
â”‚  â””â”€ Amount Range Validation                      â”‚
â”‚                                                  â”‚
â”‚  ğŸŒ CORS Policy                                  â”‚
â”‚  â”œâ”€ Cross-Origin Resource Sharing               â”‚
â”‚  â””â”€ Configured in Express                        â”‚
â”‚                                                  â”‚
â”‚  ğŸ“§ Email Security                               â”‚
â”‚  â”œâ”€ App Passwords (not real password)           â”‚
â”‚  â”œâ”€ Environment Variables                        â”‚
â”‚  â””â”€ No Credentials in Code                       â”‚
â”‚                                                  â”‚
â”‚  ğŸ’¾ Database Security                            â”‚
â”‚  â”œâ”€ Connection String in .env                    â”‚
â”‚  â”œâ”€ Mongoose Validation                          â”‚
â”‚  â””â”€ Unique Indexes                               â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Deployment Architecture (Suggested)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Production                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  Frontend: Vercel / Netlify                         â”‚
â”‚  â”œâ”€ Build: npm run build                            â”‚
â”‚  â”œâ”€ Deploy: dist/ folder                            â”‚
â”‚  â””â”€ Environment: VITE_API_URL                       â”‚
â”‚                                                     â”‚
â”‚  Backend: Heroku / Railway / Render                 â”‚
â”‚  â”œâ”€ Process: Node.js                                â”‚
â”‚  â”œâ”€ Port: Dynamic (process.env.PORT)                â”‚
â”‚  â””â”€ Environment Variables:                          â”‚
â”‚      â”œâ”€ MONGODB_URI                                 â”‚
â”‚      â”œâ”€ EMAIL_USER                                  â”‚
â”‚      â”œâ”€ EMAIL_PASSWORD                              â”‚
â”‚      â””â”€ ADMIN_KEY                                   â”‚
â”‚                                                     â”‚
â”‚  Database: MongoDB Atlas                            â”‚
â”‚  â”œâ”€ Cluster: M0 (Free Tier)                         â”‚
â”‚  â”œâ”€ Region: Closest to users                        â”‚
â”‚  â””â”€ Connection: mongodb+srv://...                   â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Technology Stack Summary

| Layer      | Technology       | Purpose                    |
|------------|------------------|----------------------------|
| Frontend   | React 18         | UI Framework               |
| Frontend   | Vite             | Build Tool                 |
| Frontend   | React Router     | Navigation                 |
| Frontend   | Axios            | HTTP Client                |
| Backend    | Node.js          | Runtime                    |
| Backend    | Express          | Web Framework              |
| Backend    | Mongoose         | MongoDB ODM                |
| Backend    | Nodemailer       | Email Service              |
| Backend    | node-cron        | Task Scheduler             |
| Database   | MongoDB          | NoSQL Database             |
| Auth       | API Key          | Admin Authentication       |
| Email      | Gmail SMTP       | Email Notifications        |

---

**Complete. Clean. Modular. Ready to Scale. ğŸš€**

